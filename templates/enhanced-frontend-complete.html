<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠå…¬æ–‡æ¡£æ™ºèƒ½ä»£ç† - å®Œæ•´ç‰ˆ</title>
    <link rel="stylesheet" href="/static/css/enhanced-frontend-complete.css">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
    <meta name="description" content="æ™ºèƒ½åŠå…¬æ–‡æ¡£å¤„ç†ç³»ç»Ÿï¼Œæ”¯æŒæ ¼å¼å¯¹é½ã€æ–‡é£ç»Ÿä¸€ã€æ™ºèƒ½å¡«æŠ¥ã€æ–‡æ¡£å®¡æŸ¥ç­‰åŠŸèƒ½">

    <!-- æ™ºèƒ½å¡«æŠ¥ä¸“ç”¨æ ·å¼ -->
    <style>
        .status-display {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            background-color: #f8f9fa;
        }

        .status-success {
            color: #155724;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
        }

        .status-error {
            color: #721c24;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 8px;
        }

        .loading-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background-color: #e3f2fd;
            border-radius: 8px;
            margin: 15px 0;
        }

        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #2196F3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .feedback-message.success {
            color: #155724;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .feedback-message.error {
            color: #721c24;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .input-textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
        }

        .input-select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            background-color: white;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .btn-success {
            background-color: #28a745;
            color: white;
        }

        .btn-success:hover {
            background-color: #1e7e34;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .workflow-block {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .workflow-title {
            color: #2c3e50;
            margin-bottom: 16px;
            font-size: 18px;
            font-weight: 600;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- å…¨å±€è¿›åº¦æ¡ -->
    <div class="global-progress-bar" id="global-progress" role="progressbar" aria-label="å…¨å±€è¿›åº¦">
        <div class="progress-fill" id="progress-fill"></div>
    </div>

    <div class="app-container">
        <!-- åº”ç”¨å¤´éƒ¨ -->
        <header class="app-header">
            <h1 class="main-title">ğŸ“„ åŠå…¬æ–‡æ¡£æ™ºèƒ½ä»£ç†</h1>
            <div class="logo">ğŸ“„ åŠå…¬æ–‡æ¡£æ™ºèƒ½ä»£ç†</div>
            <nav class="main-nav" role="navigation" aria-label="ä¸»å¯¼èˆª">
                <a href="#" class="nav-item active" data-scene="format" aria-label="æ ¼å¼å¯¹é½åŠŸèƒ½">æ ¼å¼å¯¹é½</a>
                <a href="#" class="nav-item" data-scene="style" aria-label="æ–‡é£ç»Ÿä¸€åŠŸèƒ½">æ–‡é£ç»Ÿä¸€</a>
                <a href="#" class="nav-item" data-scene="fill" aria-label="æ™ºèƒ½å¡«æŠ¥åŠŸèƒ½">æ™ºèƒ½å¡«æŠ¥</a>
                <a href="#" class="nav-item" data-scene="review" aria-label="æ–‡æ¡£å®¡æŸ¥åŠŸèƒ½">æ–‡æ¡£å®¡æŸ¥</a>
            </nav>
        </header>

        <!-- æ ¼å¼å¯¹é½åœºæ™¯ - é‡æ–°è®¾è®¡ -->
        <section id="scene-format" class="scene-section">
            <h2 class="scene-title">ğŸ“ AIæ ¼å¼å¯¹é½</h2>
            <p class="scene-description">åŸºäºæ˜Ÿç«X1å¤§æ¨¡å‹çš„æ™ºèƒ½æ ¼å¼å¯¹é½ç³»ç»Ÿï¼Œæ”¯æŒé¢„è®¾æ ¼å¼æ¨¡æ¿å’Œè‡ªå®šä¹‰æ ¼å¼å­¦ä¹ </p>

            <!-- 5æ­¥å·¥ä½œæµç¨‹æŒ‡ç¤ºå™¨ -->
            <div class="step-indicator" role="progressbar" aria-label="æ ¼å¼å¯¹é½è¿›åº¦">
                <div class="step-item active">
                    <div class="step-number">1</div>
                    <span>é€‰æ‹©æ¨¡å¼</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <span>é…ç½®æ ¼å¼</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <span>ä¸Šä¼ æ–‡æ¡£</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <span>å¯¼å‡ºç»“æœ</span>
                </div>
            </div>

            <!-- æ­¥éª¤1: å¤„ç†æ¨¡å¼é€‰æ‹© -->
            <div class="workflow-block" id="format-mode-selection">
                <h3 class="workflow-title">ğŸ“‹ é€‰æ‹©å¤„ç†æ¨¡å¼</h3>

                <div class="mode-selector">
                    <div class="mode-option" data-mode="preset">
                        <div class="mode-icon">ğŸ¯</div>
                        <div class="mode-info">
                            <h4>é¢„è®¾æ ¼å¼æ¨¡æ¿</h4>
                            <p>ä½¿ç”¨å†…ç½®çš„ä¸“ä¸šæ ¼å¼æ¨¡æ¿ï¼ˆå…¬æ–‡ã€æŠ¥å‘Šã€è®ºæ–‡ç­‰ï¼‰</p>
                        </div>
                        <input type="radio" name="format-mode" value="preset" id="format-mode-preset" checked>
                        <label for="format-mode-preset" class="mode-radio"></label>
                    </div>

                    <div class="mode-option" data-mode="few-shot">
                        <div class="mode-icon">ğŸ“š</div>
                        <div class="mode-info">
                            <h4>Few-Shotæ ¼å¼å­¦ä¹ </h4>
                            <p>ä¸Šä¼ æ ¼å¼æ¨¡æ¿æ–‡æ¡£ï¼ŒAIè‡ªåŠ¨å­¦ä¹ å…¶æ ¼å¼è§„èŒƒ</p>
                        </div>
                        <input type="radio" name="format-mode" value="few-shot" id="format-mode-few-shot">
                        <label for="format-mode-few-shot" class="mode-radio"></label>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤2: é¢„è®¾æ ¼å¼é…ç½® -->
            <div class="workflow-block" id="format-preset-config" style="display: block;">
                <h3 class="workflow-title">ğŸ¯ é¢„è®¾æ ¼å¼æ¨¡æ¿åº“</h3>

                <div class="preset-styles-gallery" id="preset-formats-container">
                    <!-- æ ¼å¼æ¨¡æ¿å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                    <div class="loading-placeholder">æ­£åœ¨åŠ è½½æ ¼å¼æ¨¡æ¿...</div>
                </div>

                <div class="format-config-panel">
                    <div class="input-group">
                        <label for="format-action">å¤„ç†ç±»å‹:</label>
                        <select class="input-select" id="format-action">
                            <option value="æ ¼å¼å¯¹é½">æ ¼å¼å¯¹é½</option>
                            <option value="æ ¼å¼è½¬æ¢">æ ¼å¼è½¬æ¢</option>
                            <option value="æ ¼å¼ä¼˜åŒ–">æ ¼å¼ä¼˜åŒ–</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label for="format-strength">å¯¹é½å¼ºåº¦:</label>
                        <input type="range" id="format-strength" min="0.1" max="1.0" step="0.1" value="0.7" class="temperature-slider">
                        <span class="temperature-value">0.7</span>
                        <div class="temperature-labels">
                            <span>ä¿å®ˆ</span>
                            <span>ä¸¥æ ¼</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="format-language">è¯­è¨€æ¨¡å¼:</label>
                        <select class="input-select" id="format-language">
                            <option value="auto">è‡ªåŠ¨è¯†åˆ«</option>
                            <option value="zh">ä¸­æ–‡</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤2: Few-Shotæ ¼å¼é…ç½® -->
            <div class="workflow-block" id="format-few-shot-config" style="display: none;">
                <h3 class="workflow-title">ğŸ“š Few-Shotæ ¼å¼å­¦ä¹ </h3>

                <div class="input-group">
                    <label for="upload-format-template">æ ¼å¼æ¨¡æ¿æ–‡æ¡£:</label>
                    <div class="file-upload-area" id="format-template-upload">
                        <input type="file" accept=".docx,.doc,.txt,.rtf,.pdf" id="upload-format-template"
                               title="é€‰æ‹©æ ¼å¼æ¨¡æ¿æ–‡æ¡£" aria-label="ä¸Šä¼ æ ¼å¼æ¨¡æ¿æ–‡æ¡£">
                        <div class="file-upload-text">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ æ ¼å¼æ¨¡æ¿æ–‡æ¡£</div>
                        <div class="file-upload-hint">AIå°†å­¦ä¹ æ­¤æ–‡æ¡£çš„æ ¼å¼è§„èŒƒ</div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="format-description">æ ¼å¼æè¿° (å¯é€‰):</label>
                    <textarea id="format-description" class="input-textarea" rows="3"
                              placeholder="æè¿°æ‚¨å¸Œæœ›å­¦ä¹ çš„æ ¼å¼ç‰¹ç‚¹ï¼Œå¦‚ï¼šæ­£å¼çš„å…¬æ–‡æ ¼å¼ã€å­¦æœ¯è®ºæ–‡æ ¼å¼ç­‰..."></textarea>
                </div>

                <div class="input-group">
                    <label for="few-shot-format-strength">å­¦ä¹ å¼ºåº¦:</label>
                    <input type="range" id="few-shot-format-strength" min="0.3" max="1.0" step="0.1" value="0.7" class="temperature-slider">
                    <span class="few-shot-temperature-value">0.7</span>
                    <div class="temperature-labels">
                        <span>ä¸¥æ ¼æ¨¡ä»¿</span>
                        <span>çµæ´»å­¦ä¹ </span>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤3: æ–‡æ¡£ä¸Šä¼  -->
            <div class="workflow-block" id="format-document-upload">
                <h3 class="workflow-title">ğŸ“„ ä¸Šä¼ å¾…å¤„ç†æ–‡æ¡£</h3>

                <!-- ç§»é™¤æ ‡ç­¾é¡µï¼Œç›´æ¥æ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼  -->

                <div class="input-group">
                    <label for="upload-format-document">é€‰æ‹©æ–‡æ¡£:</label>
                    <div class="file-upload-area" id="format-document-upload-area">
                        <input type="file" accept=".docx,.doc,.txt,.rtf,.pdf" id="upload-format-document"
                               title="é€‰æ‹©å¾…å¤„ç†æ–‡æ¡£" aria-label="ä¸Šä¼ å¾…å¤„ç†æ–‡æ¡£">
                        <div class="file-upload-text">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å¾…å¤„ç†æ–‡æ¡£</div>
                        <div class="file-upload-hint">æ”¯æŒ .docx, .doc, .txt, .rtf, .pdf æ ¼å¼</div>
                    </div>
                </div>


            </div>

            <!-- æ­¥éª¤4: å¼€å§‹å¤„ç† -->
            <div class="workflow-block" id="format-processing-start">
                <h3 class="workflow-title">ğŸš€ å¼€å§‹æ ¼å¼å¯¹é½</h3>

                <div class="input-group">
                    <label for="preserve-content">å†…å®¹ä¿æŒé€‰é¡¹:</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="preserve-structure" checked>
                            <span class="checkmark"></span>
                            ä¿æŒæ–‡æ¡£ç»“æ„
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="preserve-images" checked>
                            <span class="checkmark"></span>
                            ä¿æŒå›¾ç‰‡ä½ç½®
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="preserve-tables" checked>
                            <span class="checkmark"></span>
                            ä¿æŒè¡¨æ ¼æ ¼å¼
                        </label>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="start-format-alignment" disabled>
                        ğŸ” å¼€å§‹æ ¼å¼å¯¹é½
                    </button>
                    <button class="btn btn-secondary" id="clear-format-content"
                            aria-label="æ¸…ç©ºå†…å®¹">
                        <span>ğŸ—‘ï¸</span> æ¸…ç©ºå†…å®¹
                    </button>
                </div>
            </div>

            <!-- æ­¥éª¤4: å¤„ç†è¿›åº¦ (å–æ¶ˆé¢„è§ˆå¯¹æ¯”åŠŸèƒ½) -->
            <div class="workflow-block" id="format-comparison-preview" style="display: none;">
                <h3 class="workflow-title">âš¡ å¤„ç†è¿›åº¦</h3>

                <!-- è¿›åº¦æ¡ -->
                <div class="progress-container" id="format-progress-container" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="format-progress-fill"></div>
                    </div>
                    <div class="progress-text" id="format-progress-text">æ­£åœ¨å¤„ç†...</div>
                </div>

                <!-- éšè—å¯¹æ¯”é¢„è§ˆå®¹å™¨ -->
                <div class="comparison-container" id="format-comparison-container" style="display: none;">
                    <!-- é¢„è§ˆåŠŸèƒ½å·²å–æ¶ˆ -->
                </div>

                <!-- å¤„ç†å®Œæˆæç¤º -->
                <div class="completion-message" style="text-align: center; padding: 20px; background: #f0f9ff; border-radius: 8px; margin: 20px 0;">
                    <div style="font-size: 48px; margin-bottom: 10px;">âœ…</div>
                    <h4 style="color: #0369a1; margin-bottom: 10px;">æ ¼å¼å¯¹é½å®Œæˆ</h4>
                    <p style="color: #64748b;">å¤„ç†å®Œæˆï¼Œè¯·åœ¨ä¸‹æ–¹å¯¼å‡ºç»“æœ</p>
                </div>
            </div>

            <!-- æ­¥éª¤4: å¯¼å‡ºç»“æœ -->
            <div class="workflow-block" id="format-export-results" style="display: none;">
                <h3 class="workflow-title">ğŸ“¥ å¯¼å‡ºå¤„ç†ç»“æœ</h3>

                <div class="export-options">
                    <div class="export-format-selector">
                        <label>å¯¼å‡ºæ ¼å¼:</label>
                        <div class="format-buttons">
                            <button class="btn btn-outline" data-format="txt">ğŸ“„ TXT</button>
                            <button class="btn btn-outline" data-format="docx">ğŸ“˜ DOCX</button>
                            <button class="btn btn-outline" data-format="html">ğŸŒ HTML</button>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" id="download-formatted-document">
                        <span>ğŸ“¥</span> ä¸‹è½½æ ¼å¼åŒ–æ–‡æ¡£
                    </button>
                    <button class="btn btn-secondary" id="restart-format-process">
                        <span>ğŸ”„</span> é‡æ–°å¼€å§‹
                    </button>
                </div>
            </div>
        </section>

        <!-- æ–‡é£ç»Ÿä¸€åœºæ™¯ - é‡æ–°è®¾è®¡ -->
        <section id="scene-style" class="scene-section hidden">
            <h2 class="scene-title">ğŸ¨ AIæ–‡é£ç»Ÿä¸€</h2>
            <p class="scene-description">åŸºäºæ˜Ÿç«X1å¤§æ¨¡å‹çš„æ™ºèƒ½æ–‡é£ç»Ÿä¸€ç³»ç»Ÿï¼Œæ”¯æŒé¢„è®¾é£æ ¼ç”Ÿæˆå’ŒFew-Shoté£æ ¼å­¦ä¹ </p>

            <!-- 5æ­¥å·¥ä½œæµç¨‹æŒ‡ç¤ºå™¨ -->
            <div class="step-indicator" role="progressbar" aria-label="æ–‡é£ç»Ÿä¸€è¿›åº¦">
                <div class="step-item active">
                    <div class="step-number">1</div>
                    <span>é€‰æ‹©æ¨¡å¼</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <span>é…ç½®é£æ ¼</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <span>è¾“å…¥å†…å®¹</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <span>å¯¼å‡ºåº”ç”¨</span>
                </div>
            </div>

            <!-- æ­¥éª¤1: å¤„ç†æ¨¡å¼é€‰æ‹© -->
            <div class="workflow-block" id="style-mode-selection">
                <h3 class="workflow-title">ğŸ“‹ é€‰æ‹©å¤„ç†æ¨¡å¼</h3>

                <div class="mode-selector">
                    <div class="mode-option" data-mode="preset">
                        <div class="mode-icon">ğŸ¯</div>
                        <div class="mode-info">
                            <h4>é¢„è®¾é£æ ¼ç”Ÿæˆ</h4>
                            <p>ä½¿ç”¨å†…ç½®çš„ä¸“ä¸šé£æ ¼æ¨¡æ¿ï¼ˆå­¦æœ¯ã€å•†åŠ¡ã€å¹½é»˜ç­‰ï¼‰</p>
                        </div>
                        <input type="radio" name="style-mode" value="preset" id="mode-preset" checked>
                        <label for="mode-preset" class="mode-radio"></label>
                    </div>

                    <div class="mode-option" data-mode="few-shot">
                        <div class="mode-icon">ğŸ“š</div>
                        <div class="mode-info">
                            <h4>Few-Shoté£æ ¼å­¦ä¹ </h4>
                            <p>ä¸Šä¼ å‚è€ƒæ–‡æ¡£ï¼ŒAIè‡ªåŠ¨å­¦ä¹ å…¶å†™ä½œé£æ ¼</p>
                        </div>
                        <input type="radio" name="style-mode" value="few-shot" id="mode-few-shot">
                        <label for="mode-few-shot" class="mode-radio"></label>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤2: é¢„è®¾é£æ ¼é…ç½® -->
            <div class="workflow-block" id="style-preset-config" style="display: block;">
                <h3 class="workflow-title">ğŸ¨ é¢„è®¾é£æ ¼æ¨¡æ¿åº“</h3>

                <div class="preset-styles-gallery" id="preset-styles-container">
                    <!-- é¢„è®¾é£æ ¼å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                    <div class="loading-placeholder">æ­£åœ¨åŠ è½½é¢„è®¾é£æ ¼...</div>
                </div>

                <div class="style-config-panel">
                    <div class="input-group">
                        <label for="style-action">æ“ä½œç±»å‹:</label>
                        <select class="input-select" id="style-action">
                            <option value="é‡å†™">é‡å†™</option>
                            <option value="æ”¹å†™">æ”¹å†™</option>
                            <option value="æ¶¦è‰²">æ¶¦è‰²</option>
                            <option value="ä¼˜åŒ–">ä¼˜åŒ–</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label for="style-temperature">é£æ ¼å¼ºåº¦:</label>
                        <input type="range" id="style-temperature" min="0.1" max="1.0" step="0.1" value="0.7" class="temperature-slider">
                        <span class="temperature-value">0.7</span>
                        <div class="temperature-labels">
                            <span>ä¿å®ˆ</span>
                            <span>åˆ›æ–°</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="style-language">è¯­è¨€æ¨¡å¼:</label>
                        <select class="input-select" id="style-language">
                            <option value="auto">è‡ªåŠ¨è¯†åˆ«</option>
                            <option value="zh">ä¸­æ–‡</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤2: Few-Shoté£æ ¼é…ç½® -->
            <div class="workflow-block" id="style-few-shot-config" style="display: none;">
                <h3 class="workflow-title">ğŸ“š Few-Shoté£æ ¼å­¦ä¹ </h3>

                <div class="input-group">
                    <label for="upload-reference-doc">å‚è€ƒæ–‡æ¡£:</label>
                    <div class="file-upload-area" id="reference-doc-upload">
                        <input type="file" accept=".txt" id="upload-reference-doc"
                               title="é€‰æ‹©TXTæ ¼å¼å‚è€ƒæ–‡æ¡£" aria-label="ä¸Šä¼ TXTæ ¼å¼å‚è€ƒæ–‡æ¡£">
                        <div class="file-upload-text">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ çº¯æ–‡æœ¬TXTæ ¼å¼å‚è€ƒæ–‡æ¡£</div>
                        <div class="file-upload-hint">ä»…æ”¯æŒçº¯æ–‡æœ¬TXTæ ¼å¼ï¼Œæœ€å¤§10MBï¼ŒAIå°†å­¦ä¹ æ­¤æ–‡æ¡£çš„å†™ä½œé£æ ¼</div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="style-description">é£æ ¼æè¿° (å¯é€‰):</label>
                    <textarea id="style-description" class="input-textarea" rows="3"
                              placeholder="æè¿°æ‚¨å¸Œæœ›å­¦ä¹ çš„é£æ ¼ç‰¹ç‚¹ï¼Œå¦‚ï¼šæ­£å¼çš„å•†åŠ¡è¯­è¨€ã€è½»æ¾çš„å¯¹è¯é£æ ¼ç­‰..."></textarea>
                </div>

                <div class="input-group">
                    <label for="few-shot-temperature">å­¦ä¹ å¼ºåº¦:</label>
                    <input type="range" id="few-shot-temperature" min="0.3" max="1.0" step="0.1" value="0.7" class="temperature-slider">
                    <span class="few-shot-temperature-value">0.7</span>
                    <div class="temperature-labels">
                        <span>ä¸¥æ ¼æ¨¡ä»¿</span>
                        <span>çµæ´»å­¦ä¹ </span>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤3: å†…å®¹è¾“å…¥ -->
            <div class="workflow-block" id="style-content-input">
                <h3 class="workflow-title">ğŸ“ è¾“å…¥è¦å¤„ç†çš„å†…å®¹</h3>

                <div class="content-input-tabs">
                    <button class="tab-button active" data-tab="text-input">æ–‡æœ¬è¾“å…¥</button>
                    <button class="tab-button" data-tab="file-upload">æ–‡ä»¶ä¸Šä¼ </button>
                </div>

                <div class="tab-content" id="style-text-input-tab">
                    <div class="input-group">
                        <label for="style-content-text">è¾“å…¥æ–‡æœ¬å†…å®¹:</label>
                        <textarea id="style-content-text" class="input-textarea content-textarea" rows="8"
                                  placeholder="è¯·è¾“å…¥æ‚¨è¦è¿›è¡Œé£æ ¼è½¬æ¢çš„æ–‡æœ¬å†…å®¹..."></textarea>
                        <div class="char-counter">
                            <span id="char-count">0</span> / 2000 å­—ç¬¦
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="style-file-upload-tab" style="display: none;">
                    <div class="input-group">
                        <label for="upload-content-file">ä¸Šä¼ æ–‡æ¡£:</label>
                        <div class="file-upload-area" id="content-file-upload">
                            <input type="file" accept=".docx,.doc,.txt,.rtf,.pdf" id="upload-content-file"
                                   title="é€‰æ‹©è¦å¤„ç†çš„æ–‡æ¡£" aria-label="ä¸Šä¼ è¦å¤„ç†çš„æ–‡æ¡£">
                            <div class="file-upload-text">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ è¦å¤„ç†çš„æ–‡æ¡£</div>
                            <div class="file-upload-hint">æ”¯æŒ .docx, .doc, .txt, .rtf, .pdf æ ¼å¼</div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="start-style-processing"
                            aria-label="å¼€å§‹é£æ ¼å¤„ç†">
                        <span>ğŸš€</span> å¼€å§‹å¤„ç†
                    </button>
                    <button class="btn btn-secondary" id="clear-content"
                            aria-label="æ¸…ç©ºå†…å®¹">
                        <span>ğŸ—‘ï¸</span> æ¸…ç©ºå†…å®¹
                    </button>
                </div>

                <div class="feedback-message" id="style-feedback" role="status" aria-live="polite"></div>
            </div>

            <!-- æ­¥éª¤4: å¤„ç†è¿›åº¦ (å–æ¶ˆé¢„è§ˆå¯¹æ¯”åŠŸèƒ½) -->
            <div class="workflow-block" id="style-processing-area" style="display: none;">
                <h3 class="workflow-title">âš¡ å¤„ç†è¿›åº¦</h3>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="style-progress-fill"></div>
                    </div>
                    <div class="progress-text">
                        <span id="style-progress-percent">0%</span>
                        <span id="style-progress-message">å‡†å¤‡å¼€å§‹...</span>
                    </div>
                </div>

                <div class="processing-controls">
                    <button class="btn btn-warning" id="cancel-processing" style="display: none;">
                        <span>â¹ï¸</span> å–æ¶ˆå¤„ç†
                    </button>
                </div>

                <!-- å¤„ç†å®Œæˆæç¤º -->
                <div class="completion-message" id="style-completion-message" style="display: none; text-align: center; padding: 20px; background: #f0f9ff; border-radius: 8px; margin: 20px 0;">
                    <div style="font-size: 48px; margin-bottom: 10px;">âœ…</div>
                    <h4 style="color: #0369a1; margin-bottom: 10px;">æ–‡é£ç»Ÿä¸€å®Œæˆ</h4>
                    <p style="color: #64748b;">å¤„ç†å®Œæˆï¼Œè¯·åœ¨ä¸‹æ–¹é€‰æ‹©å¯¼å‡ºæ ¼å¼</p>
                </div>
            </div>

            <!-- éšè—åŸæœ‰çš„ç»“æœé¢„è§ˆå’Œå¯¹æ¯”åŠŸèƒ½ -->
            <div class="workflow-block" id="style-result-area" style="display: none;">
                <!-- é¢„è§ˆå¯¹æ¯”åŠŸèƒ½å·²å–æ¶ˆ -->
            </div>

            <!-- æ­¥éª¤4: å¯¼å‡ºé€‰é¡¹ -->
            <div class="workflow-block" id="style-export-area" style="display: none;">
                <h3 class="workflow-title">ğŸ“¥ å¯¼å‡ºé€‰é¡¹</h3>

                <div class="export-options">
                    <div class="export-format-group">
                        <h4>é€‰æ‹©å¯¼å‡ºæ ¼å¼:</h4>
                        <div class="format-options">
                            <label class="format-option">
                                <input type="radio" name="export-format" value="txt" checked>
                                <span class="format-icon">ğŸ“„</span>
                                <span class="format-name">TXT</span>
                            </label>
                            <label class="format-option">
                                <input type="radio" name="export-format" value="docx">
                                <span class="format-icon">ğŸ“˜</span>
                                <span class="format-name">DOCX</span>
                            </label>
                        </div>
                    </div>

                    <div class="export-actions">
                        <button class="btn btn-success btn-large" id="confirm-export">
                            <span>ğŸ“¥</span> ç¡®è®¤å¯¼å‡º
                        </button>
                        <button class="btn btn-secondary" id="back-to-result">
                            <span>â†</span> è¿”å›ç»“æœ
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- æ™ºèƒ½å¡«æŠ¥åœºæ™¯ -->
        <section id="scene-fill" class="scene-section hidden">
            <h2 class="scene-title">ğŸ¤– æ™ºèƒ½å¡«æŠ¥ - æ˜Ÿç«X1å¢å¼ºç‰ˆ</h2>
            <p class="scene-description">åŸºäºæ˜Ÿç«X1å¤§æ¨¡å‹çš„æ™ºèƒ½å¡«æŠ¥ç³»ç»Ÿï¼Œä¸“æ³¨äºå¹´åº¦æ€»ç»“å’Œç®€å†ç”ŸæˆåŠŸèƒ½</p>

            <!-- 3æ­¥å·¥ä½œæµç¨‹æŒ‡ç¤ºå™¨ -->
            <div class="step-indicator" role="progressbar" aria-label="æ™ºèƒ½å¡«æŠ¥è¿›åº¦">
                <div class="step-item active">
                    <div class="step-number">1</div>
                    <span>é€‰æ‹©ç”Ÿæˆæ–¹å¼</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <span>è¾“å…¥å†…å®¹</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <span>ç”Ÿæˆå¯¼å‡º</span>
                </div>
            </div>

            <!-- æ­¥éª¤1: ç”Ÿæˆæ–¹å¼é€‰æ‹© -->
            <div class="workflow-block" id="fill-mode-selection">
                <h3 class="workflow-title">ğŸ“‹ é€‰æ‹©ç”Ÿæˆæ–¹å¼</h3>

                <div class="mode-selector">
                    <div class="mode-option" data-mode="resume">
                        <div class="mode-icon">ğŸ‘¤</div>
                        <div class="mode-info">
                            <h4>ç®€å†ç”Ÿæˆ</h4>
                            <p>æ ¹æ®ä¸ªäººä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆæ ¼å¼åŒ–çš„ä¸“ä¸šç®€å†</p>
                        </div>
                        <input type="radio" name="fill-mode" value="resume" id="mode-resume" checked>
                        <label for="mode-resume" class="mode-radio"></label>
                    </div>

                    <div class="mode-option" data-mode="summary">
                        <div class="mode-icon">ğŸ“</div>
                        <div class="mode-info">
                            <h4>å¹´åº¦æ€»ç»“ç”Ÿæˆ</h4>
                            <p>åŸºäºå·¥ä½œå†…å®¹æè¿°ç”Ÿæˆä¸“ä¸šçš„å¹´åº¦å·¥ä½œæ€»ç»“</p>
                        </div>
                        <input type="radio" name="fill-mode" value="summary" id="mode-summary">
                        <label for="mode-summary" class="mode-radio"></label>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="selectFillMode()">
                        <span>â¡ï¸</span> ä¸‹ä¸€æ­¥
                    </button>
                </div>
            </div>



            <!-- æ­¥éª¤2: ç®€å†ç”Ÿæˆè¾“å…¥ -->
            <div class="workflow-block" id="resume-input-section" style="display: none;">
                <h3 class="workflow-title">ğŸ‘¤ ç®€å†ä¿¡æ¯è¾“å…¥</h3>
                <p>è¯·è¾“å…¥æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ç”Ÿæˆæ ¼å¼åŒ–çš„ä¸“ä¸šç®€å†ï¼š</p>

                <div class="input-group">
                    <label for="resume-input">ä¸ªäººä¿¡æ¯:</label>
                    <textarea class="input-textarea" id="resume-input" rows="8"
                              placeholder="è¯·è¾“å…¥ä¸ªäººä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š
å¼ ä¸‰ï¼Œè”ç³»ç”µè¯ï¼š138xxxx8888ï¼Œé‚®ç®±ï¼šzhangsan@email.com

æ•™è‚²èƒŒæ™¯ï¼š
2018-2022å¹´å°±è¯»äºåŒ—äº¬å¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯ä¸“ä¸šï¼Œè·å¾—å­¦å£«å­¦ä½

å·¥ä½œç»éªŒï¼š
2022å¹´7æœˆè‡³ä»Šåœ¨è…¾è®¯ç§‘æŠ€æœ‰é™å…¬å¸æ‹…ä»»è½¯ä»¶å·¥ç¨‹å¸ˆ
ä¸»è¦è´Ÿè´£å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿçš„åç«¯å¼€å‘å’Œç»´æŠ¤
ä½¿ç”¨Javaã€Spring Bootã€MySQLã€Redisç­‰æŠ€æœ¯æ ˆ

é¡¹ç›®ç»éªŒï¼š
æ”¯ä»˜é£æ§ç³»ç»Ÿï¼ˆ2023.3-2023.8ï¼‰
æ‹…ä»»æ ¸å¿ƒå¼€å‘å·¥ç¨‹å¸ˆï¼Œè´Ÿè´£å®æ—¶é£é™©è¯†åˆ«æ¨¡å—
æŠ€æœ¯æ ˆï¼šJavaã€Kafkaã€Elasticsearch
å®ç°æ¯«ç§’çº§é£é™©è¯„ä¼°ï¼Œé™ä½æ¬ºè¯ˆäº¤æ˜“ç‡30%

ä¸“ä¸šæŠ€èƒ½ï¼š
ç¼–ç¨‹è¯­è¨€ï¼šJavaã€Pythonã€JavaScript
æ¡†æ¶ï¼šSpring Bootã€Djangoã€React
æ•°æ®åº“ï¼šMySQLã€Redisã€MongoDB
å·¥å…·ï¼šGitã€Dockerã€Jenkins"
                              title="è¾“å…¥ä¸ªäººä¿¡æ¯" aria-label="è¾“å…¥ä¸ªäººä¿¡æ¯"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goBackToModeSelection()">
                        <span>â¬…ï¸</span> ä¸Šä¸€æ­¥
                    </button>
                    <button class="btn btn-primary" onclick="generateResume()" id="resume-btn">
                        <span>ğŸ‘¤</span> ç”Ÿæˆç®€å†
                    </button>
                </div>

                <div class="loading-indicator" id="resume-loading" style="display: none;">
                    <div class="spinner"></div>
                    <span>æ­£åœ¨ç”Ÿæˆç®€å†ï¼Œè¯·ç¨å€™...</span>
                </div>

                <div class="feedback-message" id="resume-result" role="status" aria-live="polite"></div>
            </div>

            <!-- æ­¥éª¤2: å¹´åº¦æ€»ç»“ç”Ÿæˆè¾“å…¥ -->
            <div class="workflow-block" id="summary-input-section" style="display: none;">
                <h3 class="workflow-title">ğŸ“ å¹´åº¦æ€»ç»“ä¿¡æ¯è¾“å…¥</h3>
                <p>è¯·è¾“å…¥æ‚¨çš„å·¥ä½œå†…å®¹æè¿°ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ç”Ÿæˆä¸“ä¸šçš„å¹´åº¦å·¥ä½œæ€»ç»“ï¼š</p>

                <div class="input-group">
                    <label for="summary-input">å·¥ä½œå†…å®¹:</label>
                    <textarea class="input-textarea" id="summary-input" rows="6"
                              placeholder="è¯·è¾“å…¥å·¥ä½œå†…å®¹ï¼Œä¾‹å¦‚ï¼š
ä»Šå¹´æˆ‘ä¸»è¦è´Ÿè´£äº†å…¬å¸æ ¸å¿ƒäº§å“çš„æŠ€æœ¯å‡çº§å·¥ä½œï¼ŒæˆåŠŸå®Œæˆäº†ä»å•ä½“æ¶æ„åˆ°å¾®æœåŠ¡æ¶æ„çš„è½¬å‹ã€‚
åœ¨é¡¹ç›®ç®¡ç†æ–¹é¢ï¼Œæˆ‘å¸¦é¢†5äººå›¢é˜Ÿå®Œæˆäº†3ä¸ªé‡è¦é¡¹ç›®ï¼Œé¡¹ç›®æŒ‰æ—¶äº¤ä»˜ç‡è¾¾åˆ°100%ã€‚
æŠ€æœ¯æ–¹é¢ï¼Œæˆ‘æ·±å…¥å­¦ä¹ äº†äº‘åŸç”ŸæŠ€æœ¯ï¼ŒåŒ…æ‹¬Dockerã€Kubernetesç­‰ã€‚
é‡åˆ°çš„ä¸»è¦æŒ‘æˆ˜æ˜¯ç³»ç»Ÿè¿ç§»è¿‡ç¨‹ä¸­çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œé€šè¿‡è®¾è®¡åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆå¾—åˆ°è§£å†³ã€‚
æ˜å¹´è®¡åˆ’ç»§ç»­æ·±åŒ–åœ¨AIå’Œå¤§æ•°æ®æ–¹å‘çš„æŠ€æœ¯èƒ½åŠ›ã€‚"
                              title="è¾“å…¥å·¥ä½œå†…å®¹" aria-label="è¾“å…¥å·¥ä½œå†…å®¹"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="goBackToModeSelection()">
                        <span>â¬…ï¸</span> ä¸Šä¸€æ­¥
                    </button>
                    <button class="btn btn-primary" onclick="generateSummary()" id="summary-btn">
                        <span>ğŸ“</span> ç”Ÿæˆå¹´åº¦æ€»ç»“
                    </button>
                </div>

                <div class="loading-indicator" id="summary-loading" style="display: none;">
                    <div class="spinner"></div>
                    <span>æ­£åœ¨ç”Ÿæˆå¹´åº¦æ€»ç»“ï¼Œè¯·ç¨å€™...</span>
                </div>

                <div class="feedback-message" id="summary-result" role="status" aria-live="polite"></div>
            </div>

            <!-- æ­¥éª¤3: ç»Ÿä¸€å¯¼å‡ºåŒºåŸŸ -->
            <div class="workflow-block" id="fill-export-section" style="display: none;">
                <h3 class="workflow-title">ğŸ“¥ å¯¼å‡ºç”Ÿæˆç»“æœ</h3>

                <div class="export-options">
                    <div class="export-format-selector">
                        <label>å¯¼å‡ºæ ¼å¼:</label>
                        <div class="format-buttons">
                            <button class="btn btn-outline" data-format="docx">ğŸ“˜ DOCX</button>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" id="download-fill-result">
                        <span>ğŸ“¥</span> ä¸‹è½½æ–‡ä»¶
                    </button>
                    <button class="btn btn-secondary" onclick="restartFillProcess()">
                        <span>ğŸ”„</span> é‡æ–°å¼€å§‹
                    </button>
                </div>
            </div>
        </section>

        <!-- æ–‡æ¡£å®¡æŸ¥åœºæ™¯ -->
        <section id="scene-review" class="scene-section hidden">
            <h2 class="scene-title">ğŸ” AIæ–‡æ¡£å®¡æŸ¥</h2>
            <p class="scene-description">æ™ºèƒ½æ–‡æ¡£å®¡æŸ¥ç³»ç»Ÿï¼Œè‡ªåŠ¨è¯†åˆ«å…³é”®è¯å’Œæ—¥æœŸä¿¡æ¯</p>

            <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
            <div class="step-indicator" role="progressbar" aria-label="æ–‡æ¡£å®¡æŸ¥è¿›åº¦">
                <div class="step-item active">
                    <div class="step-number">1</div>
                    <span>è®¾ç½®å®¡æŸ¥</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <span>è¾“å…¥å†…å®¹</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <span>æ™ºèƒ½å®¡æŸ¥</span>
                </div>
                <div class="step-line"></div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <span>å¯¼å‡ºæŠ¥å‘Š</span>
                </div>
            </div>

            <!-- æ­¥éª¤1: å®¡æŸ¥è®¾ç½® -->
            <div class="workflow-block" id="review-settings">
                <h3 class="workflow-title">âš™ï¸ å®¡æŸ¥è®¾ç½®</h3>

                <div class="review-info">
                    <div class="info-item">
                        <div class="info-icon">ğŸ”</div>
                        <div class="info-content">
                            <h4>å…³é”®è¯å®¡æŸ¥</h4>
                            <p>è‡ªåŠ¨è¯†åˆ«å¹¶æ ‡è®°æ–‡æ¡£ä¸­çš„æŒ‡å®šå…³é”®è¯</p>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label for="review-keywords">è¦å®¡æŸ¥çš„å…³é”®è¯ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰:</label>
                    <input type="text" class="input-field" id="review-keywords"
                           placeholder="ä¾‹å¦‚ï¼šåˆåŒ,åè®®,é‡‘é¢,æˆªæ­¢æ—¥æœŸ"
                           title="è¾“å…¥è¦å®¡æŸ¥çš„å…³é”®è¯" aria-label="è¾“å…¥è¦å®¡æŸ¥çš„å…³é”®è¯">
                </div>
            </div>



            <!-- æ­¥éª¤2: å†…å®¹è¾“å…¥ -->
            <div class="workflow-block" id="review-content-input">
                <h3 class="workflow-title">ğŸ“„ è¾“å…¥å¾…å®¡æŸ¥å†…å®¹</h3>

                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-button active" data-tab="text-input">æ–‡æœ¬è¾“å…¥</button>
                        <button class="tab-button" data-tab="file-upload">æ–‡ä»¶ä¸Šä¼ </button>
                    </div>

                    <div class="tab-content review-tab-content">
                        <!-- æ–‡æœ¬è¾“å…¥æ ‡ç­¾é¡µ -->
                        <div class="tab-pane active" id="review-text-input-tab">
                            <div class="input-group">
                                <label for="review-content-text">æ–‡æ¡£å†…å®¹:</label>
                                <textarea class="input-textarea" id="review-content-text"
                                          placeholder="è¯·è¾“å…¥éœ€è¦å®¡æŸ¥çš„æ–‡æ¡£å†…å®¹..."
                                          rows="8"
                                          title="è¾“å…¥æ–‡æ¡£å†…å®¹" aria-label="è¾“å…¥å¾…å®¡æŸ¥çš„æ–‡æ¡£å†…å®¹"></textarea>
                            </div>
                        </div>

                        <!-- æ–‡ä»¶ä¸Šä¼ æ ‡ç­¾é¡µ -->
                        <div class="tab-pane" id="review-file-upload-tab">
                            <div class="input-group">
                                <label for="upload-review-content-file">ä¸Šä¼ æ–‡æ¡£:</label>
                                <div class="file-upload-area" id="review-content-upload">
                                    <input type="file" accept=".txt" id="upload-review-content-file"
                                           title="é€‰æ‹©TXTæ–‡æ¡£æ–‡ä»¶" aria-label="ä¸Šä¼ TXTæ–‡æ¡£æ–‡ä»¶">
                                    <div class="file-upload-text">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ TXTæ–‡æ¡£æ–‡ä»¶</div>
                                    <div class="file-upload-hint">ä»…æ”¯æŒ .txt æ ¼å¼</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ­¥éª¤3: æ“ä½œå— -->
            <div class="action-block" id="review-action-block">
                <h3 class="workflow-title">ğŸš€ å¼€å§‹å®¡æŸ¥</h3>
                <div class="action-buttons">
                    <button class="btn btn-primary" id="start-review-processing"
                            aria-label="å¼€å§‹æ–‡æ¡£å®¡æŸ¥">
                        <span>ğŸ”</span> å¼€å§‹å®¡æŸ¥
                    </button>
                    <button class="btn btn-secondary" data-action="reset_review"
                            aria-label="é‡ç½®å®¡æŸ¥">
                        <span>ğŸ”„</span> é‡ç½®
                    </button>
                </div>

                <div class="feedback-message" id="review-feedback" role="status" aria-live="polite"></div>
            </div>

            <!-- æ­¥éª¤4: å¤„ç†è¿›åº¦åŒºåŸŸ -->
            <div class="workflow-block hidden" id="review-processing-area">
                <h3 class="workflow-title">â³ æ­£åœ¨å®¡æŸ¥æ–‡æ¡£...</h3>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="review-progress-fill"></div>
                    </div>
                    <div class="progress-text" id="review-progress-text">å‡†å¤‡å¼€å§‹å®¡æŸ¥...</div>
                </div>
            </div>

            <!-- æ­¥éª¤5: ç»“æœå±•ç¤ºåŒºåŸŸ -->
            <div class="workflow-block hidden" id="review-result-area">
                <h3 class="workflow-title">ğŸ“‹ å®¡æŸ¥ç»“æœ</h3>
                <div class="result-container">
                    <div id="review-result-content" role="region" aria-label="æ–‡æ¡£å®¡æŸ¥ç»“æœ"></div>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-success" data-action="export_review_word"
                            aria-label="å¯¼å‡ºWordæŠ¥å‘Š">
                        <span>ğŸ“</span> å¯¼å‡ºWordæŠ¥å‘Š
                    </button>
                </div>
            </div>
        </section>


    </div>

    <!-- é€šçŸ¥å®¹å™¨ -->
    <div class="notification-container" id="notification-container" role="status" aria-live="polite" aria-label="é€šçŸ¥æ¶ˆæ¯"></div>

    <!-- åŠ è½½çŠ¶æ€ -->
    <div class="loading" id="global-loading" style="display: none;" role="status" aria-live="polite" aria-label="åŠ è½½çŠ¶æ€">
        <div class="loading-spinner"></div>
        <div class="loading-message" id="loading-message">å¤„ç†ä¸­...</div>
    </div>

    <!-- è„šæœ¬å¼•ç”¨ -->
    <script src="/static/js/enhanced-frontend-complete.js"></script>

    <!-- æ™ºèƒ½å¡«æŠ¥åŠŸèƒ½è„šæœ¬ -->
    <script>
        // æ£€æŸ¥æ™ºèƒ½å¡«æŠ¥ç³»ç»ŸçŠ¶æ€
        async function checkSmartFillStatus() {
            try {
                const response = await fetch('/api/smart-fill/status');
                const data = await response.json();

                const statusDisplay = document.getElementById('status-display');

                if (data.success) {
                    const status = data.data;
                    statusDisplay.innerHTML = `
                        <div class="status-success">
                            <h4>âœ… ç³»ç»ŸçŠ¶æ€æ­£å¸¸</h4>
                            <p><strong>æ˜Ÿç«X1çŠ¶æ€:</strong> ${status.spark_x1_available ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨'}</p>
                            <p><strong>æ ¸å¿ƒç»„ä»¶:</strong> ${status.core_components_available ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨'}</p>
                            <p><strong>é›†æˆæ¨¡å¼:</strong> ${status.integration_mode || 'standard'}</p>
                            <p><strong>æ”¯æŒç±»å‹:</strong> ${status.supported_types ? status.supported_types.join(', ') : 'N/A'}</p>
                            <p><strong>ç‰ˆæœ¬:</strong> ${status.version}</p>
                            ${status.spark_x1_connection ? `<p><strong>APIè¿æ¥:</strong> ${status.spark_x1_connection}</p>` : ''}
                            <p><strong>æ£€æŸ¥æ—¶é—´:</strong> ${new Date(status.timestamp).toLocaleString()}</p>
                        </div>
                    `;
                } else {
                    statusDisplay.innerHTML = `<div class="status-error">âŒ çŠ¶æ€æ£€æŸ¥å¤±è´¥: ${data.error}</div>`;
                }
            } catch (error) {
                document.getElementById('status-display').innerHTML = `<div class="status-error">âŒ çŠ¶æ€æ£€æŸ¥å¼‚å¸¸: ${error.message}</div>`;
            }
        }

        // æ™ºèƒ½å¡«æŠ¥æ¨¡å—çš„å…¨å±€å˜é‡
        let currentFillMode = 'resume'; // é»˜è®¤é€‰ä¸­ç®€å†ç”Ÿæˆ
        let currentFillResult = null;

        // é€‰æ‹©ç”Ÿæˆæ–¹å¼
        function selectFillMode() {
            const selectedMode = document.querySelector('input[name="fill-mode"]:checked').value;
            currentFillMode = selectedMode;

            // éšè—æ¨¡å¼é€‰æ‹©åŒºåŸŸ
            document.getElementById('fill-mode-selection').style.display = 'none';

            // æ˜¾ç¤ºå¯¹åº”çš„è¾“å…¥åŒºåŸŸ
            if (selectedMode === 'resume') {
                document.getElementById('resume-input-section').style.display = 'block';
            } else if (selectedMode === 'summary') {
                document.getElementById('summary-input-section').style.display = 'block';
            }

            // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
            updateFillStepIndicator(2);
        }

        // è¿”å›æ¨¡å¼é€‰æ‹©
        function goBackToModeSelection() {
            // éšè—æ‰€æœ‰è¾“å…¥åŒºåŸŸ
            document.getElementById('resume-input-section').style.display = 'none';
            document.getElementById('summary-input-section').style.display = 'none';
            document.getElementById('fill-export-section').style.display = 'none';

            // æ˜¾ç¤ºæ¨¡å¼é€‰æ‹©åŒºåŸŸ
            document.getElementById('fill-mode-selection').style.display = 'block';

            // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
            updateFillStepIndicator(1);
        }

        // é‡æ–°å¼€å§‹æµç¨‹
        function restartFillProcess() {
            // é‡ç½®æ‰€æœ‰åŒºåŸŸ
            document.getElementById('fill-export-section').style.display = 'none';
            document.getElementById('resume-input-section').style.display = 'none';
            document.getElementById('summary-input-section').style.display = 'none';
            document.getElementById('fill-mode-selection').style.display = 'block';

            // æ¸…ç©ºç»“æœ
            document.getElementById('resume-result').innerHTML = '';
            document.getElementById('summary-result').innerHTML = '';
            currentFillResult = null;

            // é‡ç½®æ­¥éª¤æŒ‡ç¤ºå™¨
            updateFillStepIndicator(1);
        }

        // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
        function updateFillStepIndicator(activeStep) {
            const steps = document.querySelectorAll('#scene-fill .step-item');
            steps.forEach((step, index) => {
                if (index + 1 <= activeStep) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active');
                }
            });
        }

        // ç”Ÿæˆå¹´åº¦æ€»ç»“
        async function generateSummary() {
            const content = document.getElementById('summary-input').value.trim();

            if (!content) {
                alert('è¯·è¾“å…¥å·¥ä½œå†…å®¹');
                return;
            }

            const btn = document.getElementById('summary-btn');
            const loading = document.getElementById('summary-loading');
            const result = document.getElementById('summary-result');

            btn.disabled = true;
            loading.style.display = 'block';
            result.style.display = 'none';

            // æ·»åŠ è¿›åº¦æ¡æ•ˆæœ
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                loading.innerHTML = `
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <div class="progress-text">æ­£åœ¨ç”Ÿæˆå¹´åº¦æ€»ç»“... ${Math.round(progress)}%</div>
                    </div>
                `;
            }, 500);

            try {
                const response = await fetch('/api/smart-fill/generate-summary', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        content: content,
                        api_password: 'NJFASGuFsRYYjeyLpZFk:jhjQJHHgIeoKVzbAORPh'
                    })
                });

                const data = await response.json();

                if (data.success) {
                    result.className = 'feedback-message success';
                    result.innerHTML = `
                        <h4>âœ… å¹´åº¦æ€»ç»“ç”ŸæˆæˆåŠŸ</h4>
                        <p><strong>æ–‡ä»¶å:</strong> ${data.filename}</p>
                        ${data.usage ? `<p><strong>Tokenä½¿ç”¨:</strong> ${data.usage.total_tokens}</p>` : ''}
                    `;

                    // ä¿å­˜ç»“æœä¿¡æ¯
                    currentFillResult = {
                        type: 'summary',
                        filename: data.filename,
                        downloadUrl: `/api/smart-fill/download/${data.filename}`
                    };

                    // éšè—è¾“å…¥åŒºåŸŸï¼Œæ˜¾ç¤ºå¯¼å‡ºåŒºåŸŸ
                    document.getElementById('summary-input-section').style.display = 'none';
                    document.getElementById('fill-export-section').style.display = 'block';

                    // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
                    updateFillStepIndicator(3);
                } else {
                    result.className = 'feedback-message error';
                    result.innerHTML = `<h4>âŒ ç”Ÿæˆå¤±è´¥</h4><p>${data.error}</p>`;
                }
            } catch (error) {
                result.className = 'feedback-message error';
                result.innerHTML = `<h4>âŒ è¯·æ±‚å¼‚å¸¸</h4><p>${error.message}</p>`;
            } finally {
                clearInterval(progressInterval);
                btn.disabled = false;
                loading.style.display = 'none';
                loading.innerHTML = `
                    <div class="spinner"></div>
                    <span>æ­£åœ¨ç”Ÿæˆå¹´åº¦æ€»ç»“ï¼Œè¯·ç¨å€™...</span>
                `;
                result.style.display = 'block';
            }
        }

        // ç”Ÿæˆç®€å†
        async function generateResume() {
            const content = document.getElementById('resume-input').value.trim();

            if (!content) {
                alert('è¯·è¾“å…¥ä¸ªäººä¿¡æ¯');
                return;
            }

            const btn = document.getElementById('resume-btn');
            const loading = document.getElementById('resume-loading');
            const result = document.getElementById('resume-result');

            btn.disabled = true;
            loading.style.display = 'block';
            result.style.display = 'none';

            // æ·»åŠ è¿›åº¦æ¡æ•ˆæœ
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                loading.innerHTML = `
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <div class="progress-text">æ­£åœ¨ç”Ÿæˆç®€å†... ${Math.round(progress)}%</div>
                    </div>
                `;
            }, 500);

            try {
                const response = await fetch('/api/smart-fill/generate-resume', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        content: content
                    })
                });

                const data = await response.json();

                if (data.success) {
                    result.className = 'feedback-message success';
                    result.innerHTML = `
                        <h4>âœ… ç®€å†ç”ŸæˆæˆåŠŸ</h4>
                        <p><strong>æ–‡ä»¶å:</strong> ${data.filename}</p>
                        ${data.usage ? `<p><strong>Tokenä½¿ç”¨:</strong> ${data.usage.total_tokens}</p>` : ''}
                    `;

                    // ä¿å­˜ç»“æœä¿¡æ¯
                    currentFillResult = {
                        type: 'resume',
                        filename: data.filename,
                        downloadUrl: `/api/smart-fill/download/${data.filename}`
                    };

                    // éšè—è¾“å…¥åŒºåŸŸï¼Œæ˜¾ç¤ºå¯¼å‡ºåŒºåŸŸ
                    document.getElementById('resume-input-section').style.display = 'none';
                    document.getElementById('fill-export-section').style.display = 'block';

                    // æ›´æ–°æ­¥éª¤æŒ‡ç¤ºå™¨
                    updateFillStepIndicator(3);
                } else {
                    result.className = 'feedback-message error';
                    result.innerHTML = `<h4>âŒ ç”Ÿæˆå¤±è´¥</h4><p>${data.error}</p>`;
                }
            } catch (error) {
                result.className = 'feedback-message error';
                result.innerHTML = `<h4>âŒ è¯·æ±‚å¼‚å¸¸</h4><p>${error.message}</p>`;
            } finally {
                clearInterval(progressInterval);
                btn.disabled = false;
                loading.style.display = 'none';
                loading.innerHTML = `
                    <div class="spinner"></div>
                    <span>æ­£åœ¨ç”Ÿæˆç®€å†ï¼Œè¯·ç¨å€™...</span>
                `;
                result.style.display = 'block';
            }
        }

        // å¯¼å‡ºåŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            // æ™ºèƒ½å¡«æŠ¥æ¨¡å¼é€‰æ‹©ç‚¹å‡»äº‹ä»¶
            const fillModeOptions = document.querySelectorAll('#scene-fill .mode-option');
            fillModeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const radio = this.querySelector('input[type="radio"]');
                    if (radio) {
                        radio.checked = true;
                        // æ›´æ–°è§†è§‰çŠ¶æ€
                        fillModeOptions.forEach(opt => opt.classList.remove('selected'));
                        this.classList.add('selected');
                    }
                });
            });

            // å¯¼å‡ºæ ¼å¼é€‰æ‹©
            const formatButtons = document.querySelectorAll('#scene-fill .format-buttons .btn');
            formatButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
                    formatButtons.forEach(btn => btn.classList.remove('active'));
                    // æ·»åŠ å½“å‰æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
                    this.classList.add('active');
                });
            });

            // ä¸‹è½½æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            document.getElementById('download-fill-result').addEventListener('click', async function() {
                console.log('ğŸ–±ï¸ ä¸‹è½½æŒ‰é’®è¢«ç‚¹å‡»');
                console.log('ğŸ“‹ å½“å‰å¡«æŠ¥ç»“æœ:', currentFillResult);

                if (currentFillResult) {
                    // è·å–é€‰ä¸­çš„æ ¼å¼
                    const selectedFormat = document.querySelector('#scene-fill .format-buttons .btn.active');
                    const format = selectedFormat ? selectedFormat.dataset.format : 'txt';
                    console.log('ğŸ“„ é€‰æ‹©çš„å¯¼å‡ºæ ¼å¼:', format);

                    // æ‰€æœ‰æ ¼å¼éƒ½é€šè¿‡å¯¼å‡ºAPIå¤„ç†ï¼Œç¡®ä¿æ ¼å¼æ­£ç¡®
                    {
                        // DOCXå’ŒPDFæ ¼å¼å¯¼å‡º
                        console.log('ğŸ”„ å¼€å§‹è°ƒç”¨å¯¼å‡ºAPI');
                        try {
                            this.disabled = true;
                            this.innerHTML = '<span>â³</span> æ­£åœ¨ç”Ÿæˆ...';

                            const requestData = {
                                filename: currentFillResult.filename,
                                format: format,
                                type: currentFillResult.type
                            };
                            console.log('ğŸ“¤ å‘é€APIè¯·æ±‚:', requestData);

                            const response = await fetch('/api/smart-fill/export', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(requestData)
                            });

                            console.log('ğŸ“¥ APIå“åº”çŠ¶æ€:', response.status);

                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                            }

                            const result = await response.json();
                            console.log('ğŸ“‹ APIå“åº”ç»“æœ:', result);

                            if (result.success) {
                                console.log('âœ… å¯¼å‡ºæˆåŠŸï¼Œå¼€å§‹ä¸‹è½½æ–‡ä»¶');
                                // ä¸‹è½½ç”Ÿæˆçš„æ–‡ä»¶
                                const link = document.createElement('a');
                                link.href = result.download_url;
                                link.download = result.filename;
                                document.body.appendChild(link);
                                link.click();
                                document.body.removeChild(link);
                                console.log('ğŸ“¥ æ–‡ä»¶ä¸‹è½½è§¦å‘å®Œæˆ');
                            } else {
                                console.error('âŒ å¯¼å‡ºå¤±è´¥:', result.error);
                                alert('å¯¼å‡ºå¤±è´¥: ' + result.error);
                            }
                        } catch (error) {
                            console.error('å¯¼å‡ºå¤±è´¥:', error);
                            alert('å¯¼å‡ºå¤±è´¥: ' + error.message);
                        } finally {
                            this.disabled = false;
                            this.innerHTML = '<span>ğŸ“¥</span> ä¸‹è½½æ–‡ä»¶';
                        }
                    }
                } else {
                    alert('æ²¡æœ‰å¯å¯¼å‡ºçš„ç»“æœ');
                }
            });

            // é»˜è®¤é€‰ä¸­DOCXæ ¼å¼
            const docxButton = document.querySelector('#scene-fill .format-buttons .btn[data-format="docx"]');
            if (docxButton) {
                docxButton.classList.add('active');
            }
        });
    </script>
</body>
</html>